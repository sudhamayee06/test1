<div class="container table">
    <mat-table #table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="model">
            <mat-header-cell *matHeaderCellDef> Model </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.model}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="type">
            <mat-header-cell *matHeaderCellDef> Type </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.type}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="address.city">
            <mat-header-cell *matHeaderCellDef> City </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.address?.city}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="isAvailable">
            <mat-header-cell *matHeaderCellDef> Available </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.isAvailable | yesNo }} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="isDamaged">
            <mat-header-cell *matHeaderCellDef> Damaged </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.isDamaged | yesNo }} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="age">
            <mat-header-cell *matHeaderCellDef> Age </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.age}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="totalBalance">
            <mat-header-cell *matHeaderCellDef> Total Balance </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.totalBalance | currency:'USD':'symbol':'1.2-2'}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <button mat-icon-button [matMenuTriggerFor]="menu">
                    <mat-icon>menu</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <a mat-menu-item routerLink='/car/{{element.id}}/details'>
                        <mat-icon>visibility</mat-icon>
                        <span>View details</span>
                    </a>
                    <a mat-menu-item routerLink="/car/{{element.id}}/edit">
                        <mat-icon>create</mat-icon>
                        <span>Edit</span>
                    </a>
                </mat-menu>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
</div>